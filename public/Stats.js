var Stats=function(){function a(a,b,c){var d,e,f;for(e=0;e<30;e++)for(d=0;d<73;d++)f=(d+e*74)*4,a[f]=a[f+4],a[f+1]=a[f+5],a[f+2]=a[f+6];for(e=0;e<30;e++)f=(73+e*74)*4,e<b?(a[f]=E[c].bg.r,a[f+1]=E[c].bg.g,a[f+2]=E[c].bg.b):(a[f]=E[c].fg.r,a[f+1]=E[c].fg.g,a[f+2]=E[c].fg.b)}var b=0,c=2,d,e=0,f=(new Date).getTime(),g=f,h=f,i=0,j=1e3,k=0,l,m,n,o,p,q=0,r=1e3,s=0,t,u,v,w,x=0,y=1e3,z=0,A,B,C,D,E={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mb:{bg:{r:48,g:16,b:26},fg:{r:255,g:0,b:128}}};d=document.createElement("div"),d.style.cursor="pointer",d.style.width="80px",d.style.opacity="0.9",d.style.zIndex="10001",d.addEventListener("click",function(){b++,b==c&&(b=0),l.style.display="none",t.style.display="none",A.style.display="none";switch(b){case 0:l.style.display="block";break;case 1:t.style.display="block";break;case 2:A.style.display="block"}},!1),l=document.createElement("div"),l.style.backgroundColor="rgb("+Math.floor(E.fps.bg.r/2)+","+Math.floor(E.fps.bg.g/2)+","+Math.floor(E.fps.bg.b/2)+")",l.style.padding="2px 0px 3px 0px",d.appendChild(l),m=document.createElement("div"),m.style.fontFamily="Helvetica, Arial, sans-serif",m.style.textAlign="left",m.style.fontSize="9px",m.style.color="rgb("+E.fps.fg.r+","+E.fps.fg.g+","+E.fps.fg.b+")",m.style.margin="0px 0px 1px 3px",m.innerHTML='<span style="font-weight:bold">FPS</span>',l.appendChild(m),n=document.createElement("canvas"),n.width=74,n.height=30,n.style.display="block",n.style.marginLeft="3px",l.appendChild(n),o=n.getContext("2d"),o.fillStyle="rgb("+E.fps.bg.r+","+E.fps.bg.g+","+E.fps.bg.b+")",o.fillRect(0,0,n.width,n.height),p=o.getImageData(0,0,n.width,n.height),t=document.createElement("div"),t.style.backgroundColor="rgb("+Math.floor(E.ms.bg.r/2)+","+Math.floor(E.ms.bg.g/2)+","+Math.floor(E.ms.bg.b/2)+")",t.style.padding="2px 0px 3px 0px",t.style.display="none",d.appendChild(t),u=document.createElement("div"),u.style.fontFamily="Helvetica, Arial, sans-serif",u.style.textAlign="left",u.style.fontSize="9px",u.style.color="rgb("+E.ms.fg.r+","+E.ms.fg.g+","+E.ms.fg.b+")",u.style.margin="0px 0px 1px 3px",u.innerHTML='<span style="font-weight:bold">MS</span>',t.appendChild(u),n=document.createElement("canvas"),n.width=74,n.height=30,n.style.display="block",n.style.marginLeft="3px",t.appendChild(n),v=n.getContext("2d"),v.fillStyle="rgb("+E.ms.bg.r+","+E.ms.bg.g+","+E.ms.bg.b+")",v.fillRect(0,0,n.width,n.height),w=v.getImageData(0,0,n.width,n.height);try{performance&&performance.memory&&performance.memory.totalJSHeapSize&&(c=3)}catch(F){}A=document.createElement("div"),A.style.backgroundColor="rgb("+Math.floor(E.mb.bg.r/2)+","+Math.floor(E.mb.bg.g/2)+","+Math.floor(E.mb.bg.b/2)+")",A.style.padding="2px 0px 3px 0px",A.style.display="none",d.appendChild(A),B=document.createElement("div"),B.style.fontFamily="Helvetica, Arial, sans-serif",B.style.textAlign="left",B.style.fontSize="9px",B.style.color="rgb("+E.mb.fg.r+","+E.mb.fg.g+","+E.mb.fg.b+")",B.style.margin="0px 0px 1px 3px",B.innerHTML='<span style="font-weight:bold">MB</span>',A.appendChild(B),n=document.createElement("canvas"),n.width=74,n.height=30,n.style.display="block",n.style.marginLeft="3px",A.appendChild(n),C=n.getContext("2d"),C.fillStyle="#301010",C.fillRect(0,0,n.width,n.height),D=C.getImageData(0,0,n.width,n.height);return{domElement:d,update:function(){e++,f=(new Date).getTime(),q=f-g,r=Math.min(r,q),s=Math.max(s,q),a(w.data,Math.min(30,30-q/200*30),"ms"),u.innerHTML='<span style="font-weight:bold">'+q+" MS</span> ("+r+"-"+s+")",v.putImageData(w,0,0),g=f,f>h+1e3&&(i=Math.round(e*1e3/(f-h)),j=Math.min(j,i),k=Math.max(k,i),a(p.data,Math.min(30,30-i/100*30),"fps"),m.innerHTML='<span style="font-weight:bold">'+i+" FPS</span> ("+j+"-"+k+")",o.putImageData(p,0,0),c==3&&(x=performance.memory.usedJSHeapSize*9.54e-7,y=Math.min(y,x),z=Math.max(z,x),a(D.data,Math.min(30,30-x/2),"mb"),B.innerHTML='<span style="font-weight:bold">'+Math.round(x)+" MB</span> ("+Math.round(y)+"-"+Math.round(z)+")",C.putImageData(D,0,0)),h=f,e=0)}}}